{"id":"navisai-1ig","content_hash":"002607b5f93ca49e14a93c9dfc3f91bfdb482d18fec9e3d2a15821a54f136f56","title":"daemon-logs: Implement log rotation for daemon logs","description":"To support long-running daemon processes and prevent disk space issues, implement log rotation for daemon logs.\n\n**Requirements:**\n1. Implement log rotation in daemon based on file size (e.g., 10MB)\n2. Keep configurable number of log files (e.g., 5 files)\n3. Compress old log files to save space\n4. Add log levels (DEBUG, INFO, WARN, ERROR)\n5. Timestamp all log entries\n6. Ensure structured logging format for better parsing\n\n**Acceptance Criteria:**\n- [ ] Logs rotate when reaching size limit\n- [ ] Old logs are compressed (.gz extension)\n- [ ] Configurable number of retained logs\n- [ ] Log levels are respected in output\n- [ ] No log data loss during rotation\n- [ ] Works with the logs command streaming","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T15:58:56.925882-08:00","updated_at":"2025-12-16T15:58:56.925882-08:00","source_repo":".","labels":["daemon","infrastructure","logging"]}
{"id":"navisai-211","content_hash":"6403a0410ab240cb1b20113e721602781bac04cc24e994e2e30d4fca51457061","title":"Configure CORS per IPC_TRANSPORT.md specifications","description":"IPC_TRANSPORT.md documents CORS rules but they're not implemented in daemon.js. Need to configure Fastify CORS plugin to match documented rules for local development and LAN access.\n\nGoverning docs:\n- docs/IPC_TRANSPORT.md (CORS specifications)\n- docs/NETWORKING.md (LAN access requirements)\n\nDocumented CORS rules not implemented:\n- Local development CORS settings\n- LAN access CORS configuration\n- Allowed origins for navis.local\n- Header policies and restrictions\n\nImplementation requirements:\n1. Install and configure @fastify/cors plugin\n2. Implement CORS settings matching IPC_TRANSPORT.md\n3. Add environment-specific CORS rules (dev vs LAN)\n4. Test CORS configuration with browser clients\n5. Verify navis.local origin handling\n6. Add CORS tests for validation\n\nThis is prerequisite for proper PWA operation and LAN client access.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T17:46:10.252786-08:00","updated_at":"2025-12-16T18:47:02.376205-08:00","closed_at":"2025-12-16T18:47:02.376229-08:00","source_repo":".","labels":["api,daemon,cors,networking"],"dependencies":[{"issue_id":"navisai-211","depends_on_id":"navisai-3yz","type":"related","created_at":"2025-12-16T17:46:27.371092-08:00","created_by":"daemon"}]}
{"id":"navisai-22h","content_hash":"22786608c09fc7e89ea643d6733105f43d1230ec5229c7d808ecdf1d05f04245","title":"Set up Beads integration for NavisAI","description":"Configure Beads with proper labels, templates, and workflow integration per AGENTS.md Section 13. Ensure all agents can use Beads for task tracking and coordination.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-16T14:39:18.068166-08:00","updated_at":"2025-12-16T18:49:18.28465-08:00","closed_at":"2025-12-16T18:49:18.284688-08:00","source_repo":".","labels":["integration,workflow,docs"]}
{"id":"navisai-3c3","content_hash":"9b04af1ee0a7b5db05fd61bfb7699d60c465a9617561e9133c27e915fe28375c","title":"Complete implementation of index and pair CLI commands","description":"ðŸ“‹ Governing Documentation:\n- docs/NETWORKING.md v0.3 - Section 5 'Project Discovery'\n- docs/PAIRING_PROTOCOL.md - Device pairing workflow\n\nISSUE: The index and pair commands in the CLI are partially implemented but may not have full error handling or complete feature set.\n\nAcceptance Criteria:\nâœ…  command works correctly for project indexing\nâœ…  command implements full device pairing workflow\nâœ… Both commands handle errors gracefully\nâœ… Progress indicators show for long-running operations\nâœ… Pairing includes QR code generation and status monitoring\nâœ… Integration with daemon APIs is complete and tested","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T19:45:16.835885-08:00","updated_at":"2025-12-16T19:45:16.835885-08:00","source_repo":".","labels":["cli,index,pairing,high-priority"]}
{"id":"navisai-3yz","content_hash":"d7c8a5e3b1a6aa4c79352a6f6c2b66856c078947b416d67502bc710dbc035125","title":"Implement missing security middleware (helmet, cors, rate limiting)","description":"Security evaluation revealed missing security middleware. IPC_TRANSPORT.md specifies CORS rules but no implementation found. Need to add helmet.js for security headers, proper CORS configuration, and rate limiting to protect endpoints. This is critical for production security.\n\nGoverning docs:\n- docs/SECURITY.md (security requirements)\n- docs/IPC_TRANSPORT.md (CORS specifications)\n\nCritical security gaps identified:\n1. No helmet.js implementation for security headers\n2. CORS rules documented but not implemented in daemon.js\n3. No rate limiting protection for endpoints\n4. Missing security middleware stack\n\nImplementation scope:\n- Add helmet.js with appropriate configuration\n- Configure Fastify CORS plugin per IPC_TRANSPORT.md\n- Implement rate limiting for API endpoints\n- Add security tests to verify hardening","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-16T17:45:51.862605-08:00","updated_at":"2025-12-16T18:11:58.795411-08:00","closed_at":"2025-12-16T18:11:58.795411-08:00","source_repo":".","labels":["security,daemon,api"]}
{"id":"navisai-40g","content_hash":"c725834721b74947e20996ace081b8c70a7187c1df981130c1fee4d361a6f14c","title":"Implement CLI log streaming command","description":"ðŸ“‹ Governing Documentation:\n- docs/NETWORKING.md v0.3 - Section 5.1 'Log Streaming'\n- docs/IPC_TRANSPORT.md v0.1 - Section 3.4 'Real-time Communication'\n\nISSUE: CLI logs command currently shows 'not implemented'. Need to connect to daemon's log stream endpoint.\n\nAcceptance Criteria:\nâœ…  shows real-time log output with proper formatting\nâœ… Command accepts filtering options: -l (level), -t (timestamp), -v (verbose)\nâœ… Graceful handling of Ctrl+C to stop streaming\nâœ… Handles connection errors and retries\nâœ… Follows both Server-Sent Events and WebSocket for fallback\nâœ… Works with self-signed certificates for local development","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-16T19:43:37.698047-08:00","updated_at":"2025-12-16T19:44:37.54513-08:00","closed_at":"2025-12-16T19:44:37.54513-08:00","source_repo":".","labels":["cli,logging,daemon"]}
{"id":"navisai-4e2","content_hash":"d486d38a4eaddf7100bed7e073c43b338c3f7d5c8757f55fe21351a2b55dc45a","title":"Update SETUP.md for packet forwarding architecture","description":"Replace proxy references with packet forwarding, add mobile verification steps, document firewall/security software interactions. Reference docs/SETUP.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T16:05:22.492027-08:00","updated_at":"2025-12-16T16:05:22.492027-08:00","source_repo":"."}
{"id":"navisai-4hp","content_hash":"f1c1e0687fa22d3903c644357119d38f305998fc76428cb5fe577f6b948add2f","title":"Fix daemon log streaming to SSE endpoint","description":"ðŸ“‹ Governing Documentation:\n- docs/IPC_TRANSPORT.md v0.1 - Section 3.4 'Server-Sent Events'\n- docs/NETWORKING.md v0.3 - Section 5.1 'Log Broadcasting'\n\nISSUE: Daemon logs are not reaching the SSE stream at /logs/stream. The CLI logs command connects but doesn't receive data.\n\nAcceptance Criteria:\nâœ… Daemon processes write logs to the SSE endpoint correctly\nâœ… CLI can stream real-time logs via SSE\nâœ… Log levels (debug, info, warn, error) are properly categorized\nâœ… SSE connection handles reconnection gracefully\nâœ… All components use @navisai/logging for consistency","status":"open","priority":0,"issue_type":"bug","created_at":"2025-12-16T19:37:45.172222-08:00","updated_at":"2025-12-16T19:37:45.172222-08:00","source_repo":".","labels":["daemon,logging,critical"]}
{"id":"navisai-50j","content_hash":"b598dbd6d986692d0a2125d6ddfae0d2480e28bdb1ca79cb247f730a399ca5d8","title":"Create Beads templates for NavisAI workflows","description":"Create templates for common NavisAI tasks: bridge implementation, API endpoint additions, documentation updates, high-risk operations","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T14:39:56.986649-08:00","updated_at":"2025-12-16T14:39:56.986649-08:00","source_repo":".","labels":["templates,workflow,automation"]}
{"id":"navisai-50m","content_hash":"8574c21c017d15e086002467e3499e7fc385b3e6ade035b0ab18202e9bc72ee4","title":"Implement Linux systemd service for daemon auto-start","description":"ðŸ“‹ Governing Documentation:\n- docs/SETUP.md v0.2 - Section 2.2 'Linux Setup'\n- docs/NETWORKING.md v0.3 - Section 4.1 'Cross-platform Support'\n\nISSUE: NavisAI has no Linux service installation. Users cannot auto-start daemon on boot.\n\nAcceptance Criteria:\nâœ… Create systemd service file for daemon\nâœ… Setup script installs service with systemctl\nâœ… Service respects user permissions (no root required)\nâœ… Service handles restarts gracefully\nâœ… Status command works with systemd\nâœ… Service integrates with packet forwarding bridge\nâœ… Cleanup removes service properly\nâœ… Supports both systemd and init.d fallback","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-16T19:49:36.747075-08:00","updated_at":"2025-12-16T19:49:36.747075-08:00","source_repo":".","labels":["linux,systemd,service,setup"]}
{"id":"navisai-5sg","content_hash":"f4fb71ff4e57326a1304e9b3a141b471ba9800a88ac3d61497943301b810c0c8","title":"Implement graceful shutdown and signal handling","description":"ðŸ“‹ Governing Documentation:\n- docs/NETWORKING.md v0.3 - Section 5.3 'Lifecycle Management'\n- docs/SECURITY.md v0.2 - Section 5 'Process Management'\n\nISSUE: Daemon has no signal handlers. SIGTERM/SIGINT cause abrupt termination.\n\nAcceptance Criteria:\nâœ… Handle SIGTERM, SIGINT, SIGUSR2 gracefully\nâœ… Close all network connections and sockets\nâœ… Clean up packet forwarding rules on exit\nâœ… Flush pending logs before exit\nâœ… Close database connections properly\nâœ… Notify connected clients before shutdown\nâœ… Wait for in-flight operations to complete\nâœ… Support zero-downtime restarts where possible","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T19:50:22.507942-08:00","updated_at":"2025-12-16T19:50:22.507942-08:00","source_repo":"."}
{"id":"navisai-735","content_hash":"cf105715cfa41b55f0534759b5ef6550d61bda030adce78654811affd7576419","title":"Create emergency stop script for packet forwarding","description":"Handle daemon crashes gracefully, ensure packet forwarding rules don't persist after unexpected shutdown. Create cleanup script that runs on SIGINT/SIGTERM. Reference apps/daemon/src/bridge-packet.js","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T16:13:48.633733-08:00","updated_at":"2025-12-16T16:13:48.633733-08:00","source_repo":".","labels":["bridge,reliability,cleanup"]}
{"id":"navisai-7av","content_hash":"10bff93e5cfc45fac3c8c562776676f84702b0abe39931a227a182df6ce55869","title":"Implement log streaming for CLI logs command","description":"CLI logs command shows 'Note: Log streaming not yet implemented'. Need to implement real-time log streaming from daemon to CLI for debugging and monitoring.\n\nCurrent state:\n- CLI logs command exists but shows placeholder message\n- No log streaming mechanism between daemon and CLI\n- Missing real-time log access for debugging\n\nImplementation requirements:\n1. Create log streaming endpoint in daemon (WebSocket or SSE)\n2. Implement CLI client to connect and stream logs\n3. Add log filtering options (level, component, time range)\n4. Handle connection management and reconnection\n5. Add color/formatting for CLI output\n6. Implement log rotation handling\n7. Add tests for log streaming functionality\n\nGoverning docs:\n- docs/SECURITY.md (log access control)\n- @navisai/logging package (shared logging utilities)\n\nThis will enable proper debugging and monitoring capabilities for NavisAI.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-16T17:46:18.923627-08:00","updated_at":"2025-12-16T20:18:04.352711-08:00","closed_at":"2025-12-16T20:18:04.352711-08:00","source_repo":".","labels":["cli,logging,daemon,feature"]}
{"id":"navisai-80a","content_hash":"dd3258f5030ab1a1bb3b633afa114cc986995afbea7ab61b164822994bbea900","title":"Implement certificate management for navis.local","description":"Generate and manage SSL certificates for https://navis.local. Must handle mobile device trust and certificate renewal. Governing docs: docs/NETWORKING.md, docs/SECURITY.md","notes":"Certificate management is already implemented in ssl-manager.js with self-signed certificate generation, SAN support for navis.local/localhost, and OpenSSL fallback.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-16T17:50:32.389774-08:00","updated_at":"2025-12-16T19:02:24.074187-08:00","closed_at":"2025-12-16T19:02:24.074199-08:00","source_repo":".","labels":["security,networking,https,daemon"]}
{"id":"navisai-80l","content_hash":"55bcbd50501186518213615c72adcf648c017a0336b4c8cee959b8b6358ad358","title":"Build PWA and fix raw HTML at /welcome","description":"Currently /welcome shows raw HTML instead of PWA. Need to run 'pnpm --filter @navisai/pwa build' and ensure daemon serves built assets properly. This blocks the entire onboarding flow.","notes":"Fixed /welcome route by removing custom HTML handler that was overriding PWA static files. The PWA build exists and will now serve /welcome correctly through SvelteKit routing.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-16T14:56:48.068568-08:00","updated_at":"2025-12-16T19:05:51.801898-08:00","closed_at":"2025-12-16T19:05:51.80192-08:00","source_repo":".","labels":["critical","pwa","ui"]}
{"id":"navisai-a48","content_hash":"8d40cb9f55d56a26d8d6c69079baba2d705ecd40484f9e910e779d788ee43ced","title":"Implement packet forwarding bridge in apps/daemon/src/bridge.js","description":"Replace TCP passthrough with packet forwarding manager. Implement Platform Abstraction Layer for pfctl/iptables/netsh. Governed by docs/NETWORKING.md v0.3 and docs/BRIDGE_IMPLEMENTATION.md. This is the core implementation of the hybrid architecture.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-16T14:56:40.765476-08:00","updated_at":"2025-12-16T17:33:01.133495-08:00","closed_at":"2025-12-16T17:33:01.133504-08:00","source_repo":".","labels":["bridge","daemon","high-risk","networking"],"dependencies":[{"issue_id":"navisai-a48","depends_on_id":"navisai-xze","type":"discovered-from","created_at":"2025-12-16T14:56:56.606844-08:00","created_by":"daemon"}]}
{"id":"navisai-a6x","content_hash":"de4eca33e305c4327ea848e167cc9ccf9df3894ec5818fdf59c9bfef4b8d7035","title":"Update ONBOARDING_FLOW.md for packet forwarding","description":"Update onboarding flow to reflect packet forwarding architecture, remove bridge installation mentions (now automatic). Reference docs/ONBOARDING_FLOW.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T16:13:15.049318-08:00","updated_at":"2025-12-16T16:46:55.129263-08:00","closed_at":"2025-12-16T16:46:55.12928-08:00","source_repo":".","labels":["docs,onboarding,ux"]}
{"id":"navisai-bkx","content_hash":"6a1a632dcf4e440ab7eaffd7f7958f18bef1c714b288e85b8db8abe0b5d37d45","title":"Test packet forwarding + mDNS integration end-to-end","description":"Complete integration test: verify navis.local resolves via mDNS, packet forwarding redirects 443â†’47621, and https://navis.local serves PWA. Test from multiple devices on LAN.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T14:57:18.002809-08:00","updated_at":"2025-12-16T14:57:18.002809-08:00","source_repo":".","labels":["integration","networking","testing"],"dependencies":[{"issue_id":"navisai-bkx","depends_on_id":"navisai-a48","type":"blocks","created_at":"2025-12-16T14:57:24.944216-08:00","created_by":"daemon"},{"issue_id":"navisai-bkx","depends_on_id":"navisai-d0n","type":"blocks","created_at":"2025-12-16T14:57:25.466767-08:00","created_by":"daemon"},{"issue_id":"navisai-bkx","depends_on_id":"navisai-80l","type":"blocks","created_at":"2025-12-16T14:57:26.014843-08:00","created_by":"daemon"}]}
{"id":"navisai-bxh","content_hash":"825869567c7c7bad439ccea8a16171d5eca4227997872c3bcc574451752d5461","title":"Update docs/BEADS_WORKFLOW.md to reference agent guide","description":"Add cross-reference to docs/BEADS_AGENT_GUIDE.md in verification checklist section per AGENTS.md documentation requirements","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T14:44:24.440014-08:00","updated_at":"2025-12-16T18:54:23.087818-08:00","closed_at":"2025-12-16T18:54:23.087843-08:00","source_repo":".","labels":["docs,workflow"]}
{"id":"navisai-c5u","content_hash":"ca8253d60ff37ef95be09b46a5957df371a26629b0f695d9e7d6b47d31a97a24","title":"Implement WebSocket log broadcasting for real-time monitoring","description":"ðŸ“‹ Governing Documentation:\n- docs/IPC_TRANSPORT.md v0.1 - Section 3.3 'WebSocket Events'\n- docs/NETWORKING.md v0.3 - Section 5.2 'Real-time Updates'\n\nISSUE: WebSocket server exists but log broadcasting to connected clients is not implemented. PWA needs real-time logs.\n\nAcceptance Criteria:\nâœ… Daemon broadcasts all logs to WebSocket clients\nâœ… PWA developer panel displays real-time logs\nâœ… CLI can tail logs via WebSocket connection (alternative to SSE)\nâœ… Log filtering by level works over WebSocket\nâœ… Multiple clients can subscribe simultaneously\nâœ… Connection errors are handled gracefully\nâœ… Message history maintained for new connections","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-16T19:38:35.664157-08:00","updated_at":"2025-12-16T19:38:35.664157-08:00","source_repo":".","labels":["websocket,logging,pwa,cli"]}
{"id":"navisai-cr6","content_hash":"ef1e8d6d051b147bdd5536d1dea5b28e371103ce5bfd13770c0ce7c366cc9bba","title":"Create comprehensive CLI command documentation","description":"ðŸ“‹ Governing Documentation:\n- docs/README.md - Basic CLI overview\n- Need to create: docs/CLI.md - Complete command reference\n\nISSUE: CLI commands are not fully documented. Users need comprehensive reference for all navisai commands.\n\nAcceptance Criteria:\nâœ… Create docs/CLI.md with complete command reference\nâœ… Document all options and flags for each command\nâœ… Include examples for common use cases\nâœ… Document integration with packet forwarding architecture\nâœ… Add troubleshooting section for CLI issues\nâœ… Update README.md to reference CLI.md\nâœ… Include man-page style reference for each command","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T19:46:22.799341-08:00","updated_at":"2025-12-16T19:46:22.799341-08:00","source_repo":".","labels":["cli,documentation"]}
{"id":"navisai-d0n","content_hash":"ffb2b0df5dad1aba03ea4bef960b71165a3a7663324e1858cd87da0a0fe9e0c6","title":"Implement mDNS/Bonjour service advertisement","description":"Add mDNS service registration to daemon. Advertise navis.local -\u003e host IP and _navisai._tcp.local service. Governed by docs/NETWORKING.md v0.3 and MDNS_EXPLAINED.md. Critical for seamless local network access.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-16T14:57:04.44102-08:00","updated_at":"2025-12-16T19:01:41.071778-08:00","closed_at":"2025-12-16T19:01:41.071795-08:00","source_repo":".","labels":["daemon","mobile","networking"]}
{"id":"navisai-frn","content_hash":"bc6843fb8418deb184275d06c9cca98d5b316f61fc3aa48044c4ef86441f831a","title":"Update PWA base path for /navis/ routing","description":"Configure PWA to work when served from /navis/ path prefix. Required for path-based routing when packet forwarding redirects /navis/* to daemon while /* goes to other services.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-16T14:57:42.000065-08:00","updated_at":"2025-12-16T14:57:42.000065-08:00","source_repo":".","labels":["networking","pwa","ui"]}
{"id":"navisai-gjp","content_hash":"a44d0f99945e6b15e7e76b09eaf7084299e532e36190a08607568dad4894a209","title":"Update SETUP.md for packet forwarding architecture","description":"Replace proxy references with packet forwarding, add mobile verification steps, document firewall/security software interactions. Reference docs/SETUP.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T16:13:09.665253-08:00","updated_at":"2025-12-16T16:46:54.546251-08:00","closed_at":"2025-12-16T16:46:54.546273-08:00","source_repo":".","labels":["docs,setup,ux"]}
{"id":"navisai-h84","content_hash":"65fce4b95fe428158db6edb74f869916fcd765fed66f08a440216969528a6bdf","title":"Strengthen AGENTS.md to enforce Beads as canonical TODO system","description":"Update AGENTS.md to prevent agents from using separate TODO systems\n\nGoverning docs:\n- docs/BEADS_WORKFLOW.md (Beads protocol)\n- CLAUDE.md Section 1.2 (Current Beads rules)\n\nRequired changes:\n1. Add explicit prohibition of TodoWrite tool without Beads references\n2. Add mandatory Beads check before ANY tool usage\n3. Add enforcement: 'Before ANY tool use, first check bd ready'\n4. Add warning examples showing violations\n5. Add Section 1.9 'Tool Usage Protocol' with Beads-first requirement","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-16T18:36:16.296452-08:00","updated_at":"2025-12-16T18:42:16.494187-08:00","closed_at":"2025-12-16T18:42:16.494224-08:00","source_repo":"."}
{"id":"navisai-i9r","content_hash":"a2056bc5fd3b71088cd8134bf3d8b05c551ae72bfb199981e6a3a6135ef92928","title":"Implement domain-specific packet forwarding for Windows","description":"ðŸ“‹ Governing Documentation:\n- docs/NETWORKING.md v0.3 - Section 4.1 'Windows Limitations'\n- docs/SECURITY.md v0.2 - Section 3.2 'Windows Security'\n\nISSUE: Windows netsh portproxy forwards ALL port 443 traffic, not domain-specific. This conflicts with other services.\n\nAcceptance Criteria:\nâœ… Research Windows packet filtering alternatives\nâœ… Implement WinDivert or similar for domain-based filtering\nâœ… Fall back to port-based routing if domain filtering not possible\nâœ… Clear documentation of Windows limitations\nâœ… User prompted about port conflicts on Windows\nâœ… Alternative setup method for Windows users\nâœ… Test with other HTTPS services running","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-16T19:49:54.019326-08:00","updated_at":"2025-12-16T19:49:54.019326-08:00","source_repo":".","labels":["windows,packet-forwarding,netsh"]}
{"id":"navisai-idr","content_hash":"bb27b0f23ff492b24a2980cbbea7fb6a16125875617a5af3bc9b4725d232b6ff","title":"Complete macOS setup app for Apple-like experience","description":"ðŸ“‹ Governing Documentation:\n- docs/SETUP.md v0.2 - Section 2.1 'macOS Setup'\n- docs/MACOS_SETUP_EXPERIENCE.md - Apple-like onboarding flow\n\nISSUE: Setup app exists but is minimal. macOS users need polished onboarding experience.\n\nAcceptance Criteria:\nâœ… Native macOS app with proper UI (not just dialogs)\nâœ… Visual indicators for setup progress\nâœ… Clean error handling with user-friendly messages\nâœ… Animated illustrations for each setup step\nâœ… Automatic detection of admin requirements\nâœ… One-click certificate trust installation\nâœ… Show success screen with next steps\nâœ… Handle edge cases gracefully (firewall, etc.)","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-16T19:50:43.442184-08:00","updated_at":"2025-12-16T19:50:43.442184-08:00","source_repo":"."}
{"id":"navisai-iy0","content_hash":"36cf44fce5436908efbd2a55ae2e748614285d04fd7eed0f210e386bb2c6d1ce","title":"Fix /welcome route to serve PWA instead of raw HTML","description":"The daemon has a custom /welcome handler that returns raw HTML, overriding the PWA static files. Need to remove the custom handler when PWA build exists so the SvelteKit welcome route can be served properly. Governing docs: docs/NETWORKING.md, docs/SETUP.md","notes":"Fixed by removing custom /welcome handler that was overriding PWA static files. The daemon now properly serves the built PWA at /welcome.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-16T19:06:18.690294-08:00","updated_at":"2025-12-16T19:06:27.253816-08:00","closed_at":"2025-12-16T19:06:27.253845-08:00","source_repo":"."}
{"id":"navisai-j29","content_hash":"cedfab4f6ea2ec5c9e46732332d216b14baa6fca18a9730362335ce8323df18a","title":"cli-prs: Add real-time pairing status monitoring","description":"The navisai pair command currently doesn't monitor pairing progress in real-time. Implement WebSocket-based real-time pairing status updates to show users when devices connect, accept pairing, or fail.\n\n**Requirements:**\n1. Connect to daemon's WebSocket endpoint after initiating pairing\n2. Listen for pairing-related events (device.connect, device.paired, pairing.failed)\n3. Display status updates in real-time in the CLI\n4. Show QR code that updates with pairing status\n5. Handle timeout scenarios gracefully\n6. Allow cancelling the monitoring with Ctrl+C\n\n**Acceptance Criteria:**\n- [ ] Shows 'Waiting for device...' after pairing starts\n- [ ] Displays real-time updates when device scans QR code\n- [ ] Shows 'Pairing successful!' when device accepts\n- [ ] Shows error messages for failed pairings\n- [ ] Can cancel monitoring with Ctrl+C\n- [ ] Updates every 2 seconds with current status","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T15:58:29.519372-08:00","updated_at":"2025-12-16T15:58:29.519372-08:00","source_repo":".","labels":["cli","pairing","ux","websocket"]}
{"id":"navisai-j7m","content_hash":"c036455d8ff8247ec58da9237106a0eb8c45d186ed5392b85aec9917c7777c03","title":"Add e2e integration test for packet forwarding + mDNS","description":"ðŸ“‹ Governing Documentation:\n- docs/NETWORKING.md v0.3 - Section 7 'Testing \u0026 Validation'\n- docs/BEADS_WORKFLOW.md v0.1 - Section 4.2 'Test Requirements'\n\nISSUE: No integration tests verify the complete LAN access flow works together end-to-end.\n\nAcceptance Criteria:\nâœ… Test sets up packet forwarding and mDNS service\nâœ… Test verifies navis.local resolves from another device\nâœ… Test validates HTTPS connection works on port 443\nâœ… Test checks PWA loads correctly on mobile\nâœ… Test includes cleanup to restore system state\nâœ… Test runs on macOS, Linux, and Windows (with variations)\nâœ… Test documented in tests/integration/README.md","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-16T19:38:50.853039-08:00","updated_at":"2025-12-16T19:38:50.853039-08:00","source_repo":".","labels":["testing,integration,quality-assurance"]}
{"id":"navisai-jma","content_hash":"d6eebce4ed1c8b78d7121cba6a078230a28f352ad0f59008e04bc23fa4c14d3e","title":"cli-lgs: Implement log streaming in navisai logs command","description":"The navisai logs command currently shows 'Log streaming not yet implemented'. Implement proper log streaming by connecting to the daemon's WebSocket endpoint or tailing the log files.\n\n**Requirements:**\n1. Connect to daemon's WebSocket endpoint at /ws for real-time log events\n2. Or implement file tailing for daemon logs in ~/.navis/logs/\n3. Handle log filtering and formatting for CLI output\n4. Ensure graceful disconnection when user presses Ctrl+C\n5. Test with various log volumes and ensure performance\n\n**Acceptance Criteria:**\n- [ ] 'navisai logs' shows real-time log output\n- [ ] Logs are properly formatted and readable\n- [ ] Can handle high-volume logging without issues\n- [ ] Clean exit on Ctrl+C\n- [ ] Works with both WebSocket and file-based approaches","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T15:58:20.338968-08:00","updated_at":"2025-12-16T19:28:26.640296-08:00","closed_at":"2025-12-16T19:28:26.64031-08:00","source_repo":".","labels":["cli","daemon","logging"]}
{"id":"navisai-jsh","content_hash":"d1ae5b26d02378031f575a68f2b07e063011ec68ec035b378af187914c0b2166","title":"cli-doc: Enhance doctor with packet forwarding diagnostics","description":"The navisai doctor command doesn't verify if packet forwarding rules are active. Add diagnostics to check the actual packet forwarding implementation.\n\n**Requirements:**\n1. Check if bridge-packet.js rules are installed on macOS (pfctl)\n2. Verify iptables rules on Linux\n3. Check netsh portproxy on Windows\n4. Test actual routing from navis.local to daemon:47621\n5. Verify mDNS service record publishing (_navisai._tcp.local)\n6. Show clear PASS/FAIL status for each component\n\n**Acceptance Criteria:**\n- [ ] Shows 'Packet Forwarding: PASS/FAIL' with details\n- [ ] Lists installed rules for the current platform\n- [ ] Verifies domain-based routing works\n- [ ] Checks mDNS service advertisement\n- [ ] Provides remediation steps if tests fail\n- [ ] Works across all supported platforms","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T15:58:38.717988-08:00","updated_at":"2025-12-16T19:45:08.188468-08:00","source_repo":".","labels":["cli","diagnostics","packet-forwarding"]}
{"id":"navisai-m35","content_hash":"d06482242f443ec11a0185499f77e70e58dac70f3ee6a22e03307db9b469e2b0","title":"Verify log streaming works end-to-end","description":"Double verify that the CLI log streaming actually works by testing SSE endpoint and generating logs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:09:08.165052-08:00","updated_at":"2025-12-16T20:18:12.948801-08:00","closed_at":"2025-12-16T20:18:12.948801-08:00","source_repo":"."}
{"id":"navisai-mld","content_hash":"bb0c228dd12b7ba9d1d264864900db6042d35275bb7525655cbe295a580c53d1","title":"Implement WebSocket manager for real-time features","description":"Create WebSocket connection manager for real-time communication per docs/IPC_TRANSPORT.md. Must handle connection lifecycle, reconnection logic, and message queuing. Required for live logs, pairing status, and other real-time features.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-16T17:50:46.975925-08:00","updated_at":"2025-12-16T17:50:46.975925-08:00","source_repo":".","labels":["websocket,daemon,real-time,api"]}
{"id":"navisai-pfd","content_hash":"48a3860fd07e3133de0a563d9a8546df6d516fd13b7b80bc9a3f0381c4c69131","title":"Update SECURITY.md for packet forwarding threat model","description":"Document packet forwarding security model, add mDNS security considerations, update threat model for domain-based forwarding. Reference docs/SECURITY.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T16:13:19.65072-08:00","updated_at":"2025-12-16T16:46:55.82098-08:00","closed_at":"2025-12-16T16:46:55.820994-08:00","source_repo":".","labels":["docs,security"]}
{"id":"navisai-px4","content_hash":"c2bd26b750c2db2f87f1a6a6c1cd63afba2b2ec6ffa79f96bc34f0d899e9ba31","title":"Add cross-platform packet forwarding tests","description":"Create tests for Linux iptables and Windows netsh implementations, verify cleanup scenarios, test edge cases. Reference apps/daemon/src/bridge-packet.js","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T16:13:43.535369-08:00","updated_at":"2025-12-16T16:13:43.535369-08:00","source_repo":".","labels":["tests,bridge,cross-platform"]}
{"id":"navisai-r30","content_hash":"425a04143259f7d0d8a5eced78dcd36f891affb4428208f3f7627665cfc2e7e5","title":"cli-ux: Add progress indicators for long-running operations","description":"Improve UX by adding progress indicators for operations that take time.\n\n**Requirements:**\n1. Show progress bar for project scanning (scan command)\n2. Display indexing progress with file counts\n3. Show pairing progress with time remaining\n4. Add spinner for network operations\n5. Use consistent progress format across commands\n6. Handle success/failure states clearly\n\n**Acceptance Criteria:**\n- [ ] scan command shows files processed/total\n- [ ] index command shows progress bar\n- [ ] setup command shows installation steps\n- [ ] Progress updates every 100ms or 10%\n- [ ] Clear completion status\n- [ ] Works on all platforms (no Unicode issues)","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-16T15:59:18.793878-08:00","updated_at":"2025-12-16T15:59:18.793878-08:00","source_repo":".","labels":["cli","progress","ux"]}
{"id":"navisai-s5s","content_hash":"052e908d8bc6a9316aa6d60a4edcf8ca61d05b3e7dd6625db639658f466365d2","title":"Activate packet forwarding bridge for LAN access","description":"ðŸ“‹ Governing Documentation:\n- docs/NETWORKING.md v0.3 - Section 4 'Packet Forwarding Bridge'\n- docs/SETUP.md v0.2 - Section 2.3 'Bridge Installation'\n- docs/SECURITY.md v0.2 - Section 3.1 'Bridge Security'\n\nISSUE: Packet forwarding bridge exists but not activated during setup. Users cannot access navis.local:443 without manual intervention.\n\nAcceptance Criteria:\nâœ… Packet forwarding is automatically activated during navisai setup\nâœ… Bridge persists across system reboots\nâœ… Cleanup command fully removes bridge rules\nâœ… Bridge forwards 443 â†’ 47621 for navis.local only\nâœ… macOS pfctl rules work properly with pf.conf\nâœ… Linux iptables rules are correctly implemented\nâœ… Windows netsh forwards traffic (with domain limitation noted)","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-16T19:38:00.390896-08:00","updated_at":"2025-12-16T19:38:00.390896-08:00","source_repo":".","labels":["networking,bridge,setup,critical"]}
{"id":"navisai-t2b","content_hash":"676b9476eef6fccda3c8c88c1cce12dc54add56c6e1392bba876fb5bca2ef3d7","title":"daemon-mdns: Ensure mDNS service record publishing","description":"Documentation mentions publishing _navisai._tcp.local service records via Bonjour. Verify and ensure the daemon properly publishes these service records.\n\n**Requirements:**\n1. Check if daemon publishes _navisai._tcp.local PTR record\n2. Verify NavisAI._navisai._tcp.local SRV record points to navis.local:443\n3. Ensure TXT records include version=1 and tls=1\n4. Test service discovery with Bonjour browser tools\n5. Verify on mobile devices (iOS/Android) can discover Navis\n\n**Acceptance Criteria:**\n- [ ] Service records are published on daemon start\n- [ ] Bonjour service discovery tools show NavisAI service\n- [ ] Mobile devices can see NavisAI service\n- [ ] Service updates when daemon restarts\n- [ ] Records have correct TTL (2 hours)\n- [ ] Includes all required TXT entries","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T15:58:48.205869-08:00","updated_at":"2025-12-16T15:58:48.205869-08:00","source_repo":".","labels":["bonjour","daemon","mdns","mobile"]}
{"id":"navisai-vne","content_hash":"a9daa229d5bd926cb731d75d5063d0fdf6f3cfcd74909dcca21df84d8c813ddb","title":"Document packet forwarding troubleshooting in NETWORKING.md","description":"Add troubleshooting section for packet forwarding issues, emergency cleanup procedures, and mDNS service record details (A, AAAA, PTR). Include FAQ for common issues. Reference docs/NETWORKING.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T16:05:16.959016-08:00","updated_at":"2025-12-16T16:05:16.959016-08:00","source_repo":"."}
{"id":"navisai-vot","content_hash":"dc72774269345f37d4a83077d4f762fba331656f8606ea82c30e7d49b109c793","title":"Add input validation to all API endpoints","description":"ðŸ“‹ Governing Documentation:\n- docs/SECURITY.md v0.2 - Section 4 'Input Validation'\n- docs/IPC_TRANSPORT.md v0.1 - API endpoint specifications\n\nISSUE: API endpoints lack input validation and sanitization, creating security vulnerabilities.\n\nAcceptance Criteria:\nâœ… Add validation schemas for all request bodies\nâœ… Validate path parameters and query strings\nâœ… Sanitize user inputs to prevent injection\nâœ… Return proper error responses for invalid data\nâœ… Rate limiting sensitive endpoints\nâœ… Audit all endpoints for XSS/SQL injection risks\nâœ… Add tests for validation logic","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T19:50:11.357611-08:00","updated_at":"2025-12-16T19:50:11.357611-08:00","source_repo":"."}
{"id":"navisai-x2y","content_hash":"a7f52bff4831fc94013820cda96f43bbbbfd4a88e8c8ee99a55c5cfd8dd25e82","title":"Implement test suite to achieve 80% coverage","description":"Project currently lacks test infrastructure. Need to set up testing framework, write unit tests for daemon services, integration tests for API endpoints, and bridge functionality tests. Target: 80% code coverage as required by Section 14 of CLAUDE.md.\n\nGoverning docs:\n- Section 14: Continuous Verification Workflow\n- docs/NETWORKING.md (bridge functionality)\n- docs/IPC_TRANSPORT.md (API endpoints)\n\nCurrent gaps:\n1. No testing framework configured\n2. Zero unit tests for daemon services\n3. No integration tests for API endpoints\n4. Bridge functionality untested\n5. Below 80% coverage requirement\n\nImplementation plan:\n1. Set up Jest/Vitest testing framework\n2. Write unit tests for core daemon services\n3. Add integration tests for all documented API endpoints\n4. Create bridge functionality tests (packet forwarding)\n5. Set up coverage reporting and CI integration\n6. Add test database fixtures and utilities","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T17:46:00.725578-08:00","updated_at":"2025-12-16T17:46:00.725578-08:00","source_repo":".","labels":["testing,coverage,daemon,api,bridge"]}
{"id":"navisai-xv8","content_hash":"cdebb9e2ecb36eef4df4e196d95ec44ec835d9f00bf2ec241a79ba4cecb25db1","title":"Document packet forwarding troubleshooting in NETWORKING.md","description":"Add troubleshooting section for packet forwarding issues, emergency cleanup procedures, and mDNS service record details (A, AAAA, PTR). Include FAQ for common issues. Reference docs/NETWORKING.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T16:13:04.148343-08:00","updated_at":"2025-12-16T16:46:47.80435-08:00","closed_at":"2025-12-16T16:46:47.804369-08:00","source_repo":".","labels":["docs,networking,troubleshooting"]}
{"id":"navisai-xw1","content_hash":"bac947e6060083a30cb888940b28043a8695f15f5ac25db5a73b33a8411b78a2","title":"Implement database migration system","description":"ðŸ“‹ Governing Documentation:\n- Need to create docs/DATABASE.md for migration strategy\n- packages/db/ directory exists but has no migration system\n\nISSUE: No database migration system. Schema changes require manual intervention.\n\nAcceptance Criteria:\nâœ… Create migration tracking table\nâœ… Implement migration runner CLI\nâœ… Add migration scripts for current schema\nâœ… Support up and down migrations\nâœ… Auto-run migrations on daemon start\nâœ… Backup database before migrations\nâœ… Document migration process in docs/DATABASE.md\nâœ… Add tests for migration system","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-16T19:50:31.642652-08:00","updated_at":"2025-12-16T19:50:31.642652-08:00","source_repo":"."}
{"id":"navisai-xze","content_hash":"1e234b36cb6dd7650923276eeb93af6712544f2289287f20ce6c8e213f2167ed","title":"Research packet forwarding implementation","description":"Research platform-specific packet forwarding implementation to replace TCP passthrough bridge. Governed by docs/NETWORKING.md v0.3. Need to understand pfctl (macOS), iptables (Linux), and netsh (Windows) command structures and requirements.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-16T14:56:34.199757-08:00","updated_at":"2025-12-16T18:47:09.643272-08:00","closed_at":"2025-12-16T18:47:09.64328-08:00","source_repo":".","labels":["bridge","daemon","networking"]}
{"id":"navisai-zgt","content_hash":"81e25a9c78a55eadc6e5092c04e9942d1949c669efd77d817968ca204c8ca075","title":"Implement system-wide mDNS service for navis.local","description":"ðŸ“‹ Governing Documentation:\n- docs/NETWORKING.md v0.3 - Section 4.2 'mDNS Service Advertisement'\n- docs/SETUP.md v0.2 - Section 2.4 'mDNS Registration'\n- docs/SECURITY.md v0.2 - Section 2.1 'LAN Name Security'\n\nISSUE: mDNS service exists (navisai-d0n completed) but navis.local doesn't resolve system-wide on all devices.\n\nAcceptance Criteria:\nâœ… mDNS service advertises navis.local to all LAN devices\nâœ… Service starts during navisai setup and persists\nâœ… Service automatically updates with current IP address\nâœ… Mobile devices (iOS/Android) can resolve navis.local\nâœ… Multiple network interfaces handled correctly\nâœ… Service respects privacy and doesn't expose beyond LAN","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-16T19:38:18.867604-08:00","updated_at":"2025-12-16T19:38:18.867604-08:00","source_repo":".","labels":["networking,mdns,discovery,critical"]}
{"id":"navisai-zjt","content_hash":"c75602a51d20ec49d4b05bade38a66e9ed15fb30165b192d8ca046a266085662","title":"Configure Claude Code hooks for Beads","description":"Set up bd setup claude --project to integrate with Claude Code for automatic context loading and session management","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T14:39:35.364352-08:00","updated_at":"2025-12-16T18:54:09.333178-08:00","closed_at":"2025-12-16T18:54:09.333194-08:00","source_repo":".","labels":["claude,automation,integration"],"dependencies":[{"issue_id":"navisai-zjt","depends_on_id":"navisai-22h","type":"blocks","created_at":"2025-12-16T14:40:07.842204-08:00","created_by":"daemon"}]}
{"id":"navisai-zs3","content_hash":"5d9945b8c6f2299c939c095d989bdc5f7604e3bee071801545ec5d10e8deeea5","title":"Implement missing security middleware (helmet, cors, rate limiting)","description":"Security evaluation revealed missing security middleware. IPC_TRANSPORT.md specifies CORS rules but no implementation found. Need to add helmet.js for security headers, proper CORS configuration, and rate limiting to protect endpoints. This is critical for production security.\n\nGoverning docs:\n- docs/SECURITY.md (security requirements)\n- docs/IPC_TRANSPORT.md (CORS specifications)\n\nCritical security gaps identified:\n1. No helmet.js implementation for security headers\n2. CORS rules documented but not implemented in daemon.js\n3. No rate limiting protection for endpoints\n4. Missing security middleware stack","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-16T18:12:34.226335-08:00","updated_at":"2025-12-16T18:35:14.434403-08:00","closed_at":"2025-12-16T18:35:14.434413-08:00","source_repo":"."}
{"id":"navisai-zt9","content_hash":"9bb81d125e6a20825e69a0d3d5719bcf5ad9c4b02310e495283fb16fda42550a","title":"daemon-ws: Add log events over WebSocket","description":"To support real-time log streaming in the CLI, implement log events that are sent over the WebSocket connection.\n\n**Requirements:**\n1. Add 'log' event type to WebSocket message types\n2. Stream log entries as they are written to file/console\n3. Include log level, timestamp, and message\n4. Buffer logs for WebSocket clients that connect late\n5. Allow filtering by log level via query params\n6. Rate limit to prevent flooding\n\n**Acceptance Criteria:**\n- [ ] Log events are emitted over WebSocket\n- [ ] CLI receives real-time log updates\n- [ ] Each log entry includes level, timestamp, message\n- [ ] Recent logs are buffered for new connections\n- [ ] Log level filtering works (e.g., ?level=error)\n- [ ] No performance impact on daemon operation","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T15:59:06.504419-08:00","updated_at":"2025-12-16T15:59:06.504419-08:00","source_repo":".","labels":["daemon","logging","real-time","websocket"]}
