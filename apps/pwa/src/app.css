@import 'tailwindcss/theme' layer(base);
@import 'tailwindcss/utilities';
@import '@fontsource/source-sans-3/400.css';
@import '@fontsource/source-sans-3/500.css';
@import '@fontsource/source-sans-3/600.css';
@import '@fontsource/jetbrains-mono/400.css';

/* Base CSS Reset and Brand Styles */
@layer base {
  html {
    font-family: 'Source Sans 3', system-ui, sans-serif;
    font-weight: 400;
    line-height: 1.6;
    color: theme('colors.navy');
    background-color: theme('colors.white');
  }

  body {
    margin: 0;
    padding: 0;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Typography Scale */
  h1 {
    @apply text-3xl font-semibold text-navy;
  }

  h2 {
    @apply text-2xl font-medium text-navy;
  }

  h3 {
    @apply text-lg font-medium text-navy;
  }

  h4 {
    @apply text-base font-medium text-slate-700;
  }

  /* Monospace for code and terminal */
  code,
  pre {
    @apply font-mono;
  }

  /* Focus styles following brand */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-teal;
  }
}

/* Component-level styles */
@layer components {
  /* Panels and Cards */
  .panel {
    @apply rounded-lg border border-divider bg-white shadow-subtle;
  }

  .panel-header {
    @apply border-b border-divider px-6 py-4;
  }

  .panel-body {
    @apply px-6 py-4;
  }

  /* Status indicators */
  .status-dot {
    @apply h-2 w-2 rounded-full;
  }

  .status-ready {
    @apply bg-status-ready;
  }

  .status-running {
    @apply bg-status-running;
  }

  .status-paused {
    @apply bg-status-paused;
  }

  .status-stopped {
    @apply bg-status-stopped;
  }

  .status-degraded {
    @apply bg-status-degraded;
  }

  .status-error {
    @apply bg-status-error;
  }

  /* Buttons following brand */
  .btn {
    @apply duration-180 rounded-md px-4 py-2 font-medium transition-all ease-in-out;
  }

  .btn-primary {
    @apply bg-navy text-white hover:bg-opacity-90 focus-visible:outline-navy;
  }

  .btn-secondary {
    @apply border border-divider bg-white text-navy hover:bg-slate-50 focus-visible:outline-navy;
  }

  .btn-approve {
    @apply bg-teal text-white hover:bg-opacity-90;
  }

  .btn-deny {
    @apply border border-divider bg-white text-slate-600 hover:bg-slate-50;
  }

  /* Spacing utilities following 8px grid */
  .section-spacing {
    @apply my-8 md:my-12;
  }

  .group-spacing {
    @apply my-4;
  }

  .tight-spacing {
    @apply my-2;
  }

  /* Layout padding */
  .page-padding {
    @apply px-4 md:px-6 lg:px-8;
  }

  /* Navigation */
  .nav-link {
    @apply duration-120 text-slate-600 transition-colors hover:text-navy;
  }

  .nav-link-active {
    @apply font-medium text-navy;
  }
}

/* Utility-only styles */
@layer utilities {
  /* Motion constraints */
  .motion-safe {
    @apply duration-180 transition-all ease-in-out;
  }

  .motion-reduced {
    @apply transition-none;
  }

  /* Text truncation */
  .text-ellipsis-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Subtle dividers */
  .divider-subtle {
    @apply border-t border-divider;
  }
}
